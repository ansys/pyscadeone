
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Diagram navigation &#8212; PyScadeOne</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/ansys_sphinx_theme.css?v=77703c5e" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

  
    <link href="../../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../../_static/documentation_options.js?v=f82dc3d9"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=6dbb43f8"></script>
    <script src="../../_static/js/table.js?v=b64f5182"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/diagram/index';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scadeone.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.8';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Automaton navigation" href="../automaton/index.html" />
    <link rel="prev" title="QuadFlightControl example setup code" href="../quad_flight_control.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="https://docs.pyansys.com/">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyScadeOne - Home"/>
    <script>document.write(`<img src="../../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark" alt="PyScadeOne - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contrib.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyscadeone" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
</div>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    <div id="announcement_msg"></div>
<script>
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status}`);
      }
      return response.text();
    })
    .then(
      (text) => (document.getElementById("announcement_msg").innerHTML = text),
    )
    .catch((error) => console.error(`Fetch problem: ${error.message}`));
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../user_guide/index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../contrib.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/pyscadeone" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../quad_flight_control.html">QuadFlightControl example setup code</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Diagram navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automaton/index.html">Automaton navigation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespace/index.html">Navigation using names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visitor/index.html">Visitor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated_code/index.html">Generated code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fmu_export/index.html">Export FMU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pywrapper/index.html">Python wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creator/index.html">Create a Scade One project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../test_module/index.html">Test module</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="../index.html" class="nav-link">Examples</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Diagram navigation</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="diagram-navigation">
<span id="diagram-nav-ex"></span><h1>Diagram navigation<a class="headerlink" href="#diagram-navigation" title="Link to this heading">#</a></h1>
<p>This section presents navigation in an operator diagram, which means how to find the sources of an diagram block
(the blocks that are connected to its inputs) and the targets (the blocks that are connected to its outputs).</p>
<p>The section starts giving the basic methods to move through a diagram and finishes by a simple
navigation between two objects using these methods.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">QuadFlightControl</span></code> example is used. To setup the example see
<a class="reference internal" href="../quad_flight_control.html#ref-quadflightcontrol-python-setup"><span class="std std-ref">QuadFlightControl example setup code</span></a>.</p>
<p>The operator is first retrieved from the module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get operator</span>
<span class="k">def</span><span class="w"> </span><span class="nf">quad_fight_control_op_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">GlobalDeclaration</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;QuadFlightControl&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="c1"># Get the &#39;QuadFightControl&#39; operator from model</span>
<span class="n">quad_flight_control_op</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
    <span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">find_declaration</span><span class="p">(</span><span class="n">quad_fight_control_op_filter</span><span class="p">)</span>
<span class="p">)</span>

</pre></div>
</div>
<section id="diagram-block">
<h2>Diagram block<a class="headerlink" href="#diagram-block" title="Link to this heading">#</a></h2>
<p>The operator’s diagram block can be accessed with the <a class="reference internal" href="../../api/language/module_global/operator_decl.html#ansys.scadeone.core.swan.OperatorDefinition.diagrams" title="ansys.scadeone.core.swan.OperatorDefinition.diagrams"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.OperatorDefinition.diagrams</span></code></a> property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diag</span> <span class="o">=</span> <span class="n">quad_flight_control_op</span><span class="o">.</span><span class="n">diagrams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>From the <strong>MotorControl</strong> diagram block, one can get the list of diagram objects (blocks, wires, etc.) and the
connections between them (sources or targets). The figure below presents those blocks for the example:</p>
<figure class="align-default">
<img alt="../../_images/block_sources_targets.png" src="../../_images/block_sources_targets.png" />
</figure>
</section>
<section id="diagram-objects">
<h2>Diagram objects<a class="headerlink" href="#diagram-objects" title="Link to this heading">#</a></h2>
<p>To get the source and target objects, one need to get the diagram objects using the
<a class="reference internal" href="../../api/language/operator_body/diagram.html#ansys.scadeone.core.swan.Diagram.objects" title="ansys.scadeone.core.swan.Diagram.objects"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.Diagram.objects</span></code></a> property. One can filter by <a class="reference internal" href="../../api/language/operator_body/diagram.html#ansys.scadeone.core.swan.Block" title="ansys.scadeone.core.swan.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.Block</span></code></a>
to get the blocks list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">blocks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Block</span><span class="p">),</span> <span class="n">diag</span><span class="o">.</span><span class="n">objects</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="sources-and-targets">
<h2>Sources and targets<a class="headerlink" href="#sources-and-targets" title="Link to this heading">#</a></h2>
<p>Using the <strong>MotorControl</strong> diagram block, one can get the operator’s sources using the
<a class="reference internal" href="../../api/language/operator_body/diagram.html#ansys.scadeone.core.swan.DiagramObject.sources" title="ansys.scadeone.core.swan.DiagramObject.sources"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.DiagramObject.sources</span></code></a> property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the &#39;MotorControl&#39; block</span>
<span class="n">motor_control_block</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
    <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">block</span><span class="p">:</span> <span class="n">block</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">path_id</span><span class="o">.</span><span class="n">as_string</span> <span class="o">==</span> <span class="s2">&quot;MotorControl&quot;</span><span class="p">,</span> <span class="n">blocks</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Get the &#39;MotorControl&#39; sources (&#39;FlightControl&#39;, &#39;motorStates&#39;)</span>
<span class="n">sources</span> <span class="o">=</span> <span class="n">motor_control_block</span><span class="o">.</span><span class="n">sources</span>
</pre></div>
</div>
<p>One can also get the operator’s targets using the
<a class="reference internal" href="../../api/language/operator_body/diagram.html#ansys.scadeone.core.swan.DiagramObject.targets" title="ansys.scadeone.core.swan.DiagramObject.targets"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.DiagramObject.targets</span></code></a> property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the &#39;MotorControl&#39; targets (&#39;motorHealthState&#39;, &#39;rotorCmd&#39;,  &#39;byname&#39; group)</span>
<span class="n">targets</span> <span class="o">=</span> <span class="n">motor_control_block</span><span class="o">.</span><span class="n">targets</span>
</pre></div>
</div>
</section>
<section id="navigate-from-input-to-output">
<h2>Navigate from Input to Output<a class="headerlink" href="#navigate-from-input-to-output" title="Link to this heading">#</a></h2>
<p>One can navigate inside the <strong>MotorControl</strong> operator selecting a starting and an ending point.
One takes <strong>attitudeCmd</strong> input as starting point and one navigates through the wires to get the blocks on the route
until one arrives at the ending point, <strong>rotorCmd</strong>.</p>
<figure class="align-default">
<img alt="../../_images/input_output_navigation.png" src="../../_images/input_output_navigation.png" />
</figure>
<p>First, the <strong>MotoControl</strong> operator is selected, then its <strong>$Control</strong> sub-diagram is extracted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the &#39;MotorControl&#39; operator from model</span>
<span class="n">motor_control_op</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">find_declaration</span><span class="p">(</span><span class="n">motor_control_op_filter</span><span class="p">))</span>

<span class="c1"># Get the diagram of the &#39;MotorControl&#39; operator</span>
<span class="n">diag</span> <span class="o">=</span> <span class="n">motor_control_op</span><span class="o">.</span><span class="n">diagrams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="k">def</span><span class="w"> </span><span class="nf">subdiagrams</span><span class="p">(</span><span class="n">diag</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">Diagram</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">cast</span><span class="p">(</span><span class="n">swan</span><span class="o">.</span><span class="n">SectionObject</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">section</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">diag</span><span class="o">.</span><span class="n">objects</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">SectionObject</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Diagram</span><span class="p">)</span>
    <span class="p">]</span>


<span class="n">control_diag</span> <span class="o">=</span> <span class="n">subdiagrams</span><span class="p">(</span><span class="n">diag</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Then, one gets the <strong>attitudeCmd</strong> input with its fields, that is to say, expression
blocks using <strong>attitudeCmd</strong> are selected as starting blocks.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">input_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">DiagramObject</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">ExprBlock</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">StructProjection</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">swan_to_str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;attitudeCmd&quot;</span>


<span class="c1"># Get the &#39;attitudeCmd&#39; fields from the diagram (expression blocks)</span>
<span class="n">attitude_cmd_fields</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="n">input_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="n">control_diag</span><span class="o">.</span><span class="n">objects</span><span class="p">))</span>
</pre></div>
</div>
<p>Once one has the inputs, one can move to the next object diagram using
the <a class="reference internal" href="../../api/language/operator_body/diagram.html#ansys.scadeone.core.swan.DiagramObject.targets" title="ansys.scadeone.core.swan.DiagramObject.targets"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ansys.scadeone.core.swan.DiagramObject.targets</span></code></a> property.
For each object diagram target, one can move to the
next object, and so on until one arrives at the output. For each move, one can save the navigated object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">contains_output</span><span class="p">(</span><span class="n">objs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">DefBlock</span><span class="p">),</span> <span class="n">objs</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>


<span class="c1"># Get the blocks following the flows from the &#39;attitudeCmd&#39; input to the &#39;rotorCmd&#39; output</span>
<span class="n">blocks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">contains_output</span><span class="p">(</span><span class="n">attitude_cmd_fields</span><span class="p">):</span>
    <span class="n">targets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">attitude_cmd_fields</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">targets</span><span class="p">:</span>
            <span class="n">targets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">swan</span><span class="o">.</span><span class="n">Block</span><span class="p">):</span>
                <span class="n">blocks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">attitude_cmd_fields</span> <span class="o">=</span> <span class="n">targets</span>
</pre></div>
</div>
</section>
<section id="complete-example">
<h2>Complete example<a class="headerlink" href="#complete-example" title="Link to this heading">#</a></h2>
<p>This is the complete script for the diagram navigation section, with print of results.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copyright (C) 2022 - 2025 ANSYS, Inc. and/or its affiliates.</span>
<span class="c1"># SPDX-License-Identifier: MIT</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c1"># of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c1"># in the Software without restriction, including without limitation the rights</span>
<span class="c1"># to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c1"># copies of the Software, and to permit persons to whom the Software is</span>
<span class="c1"># furnished to do so, subject to the following conditions:</span>
<span class="c1">#</span>
<span class="c1"># The above copyright notice and this permission notice shall be included in all</span>
<span class="c1"># copies or substantial portions of the Software.</span>
<span class="c1">#</span>
<span class="c1"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c1"># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c1"># FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c1"># AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c1"># LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c1"># OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="c1"># SOFTWARE.</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">cast</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.scadeone.core.scadeone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ScadeOne</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ansys.scadeone.core.swan</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">swan</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ansys.scadeone.core.svc.swan_printer</span><span class="w"> </span><span class="kn">import</span> <span class="n">swan_to_str</span>

<span class="c1"># Update according to your installation</span>
<span class="n">s_one_install</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;C:\Scade One&quot;</span><span class="p">)</span>

<span class="n">quad_flight_project</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">s_one_install</span> <span class="o">/</span> <span class="s2">&quot;examples/QuadFlightControl/QuadFlightControl&quot;</span> <span class="o">/</span> <span class="s2">&quot;QuadFlightControl.sproj&quot;</span>
<span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">ScadeOne</span><span class="p">(</span><span class="n">install_dir</span><span class="o">=</span><span class="n">s_one_install</span><span class="p">)</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">quad_flight_project</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">model</span>


<span class="c1"># Step 1</span>
<span class="c1"># Get operator</span>
<span class="k">def</span><span class="w"> </span><span class="nf">quad_fight_control_op_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">GlobalDeclaration</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;QuadFlightControl&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="c1"># Get the &#39;QuadFightControl&#39; operator from model</span>
<span class="n">quad_flight_control_op</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
    <span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">find_declaration</span><span class="p">(</span><span class="n">quad_fight_control_op_filter</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Step 2: Get the diagram of the &#39;QuadFightControl&#39; operator</span>
<span class="n">diag</span> <span class="o">=</span> <span class="n">quad_flight_control_op</span><span class="o">.</span><span class="n">diagrams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="c1"># Step 3: Get the diagram blocks (&#39;MotorControl&#39;, &#39;FlightControl&#39;)</span>
<span class="n">blocks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Block</span><span class="p">),</span> <span class="n">diag</span><span class="o">.</span><span class="n">objects</span><span class="p">))</span>

<span class="c1"># Step 4</span>
<span class="c1"># Get the &#39;MotorControl&#39; block</span>
<span class="n">motor_control_block</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
    <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">block</span><span class="p">:</span> <span class="n">block</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">path_id</span><span class="o">.</span><span class="n">as_string</span> <span class="o">==</span> <span class="s2">&quot;MotorControl&quot;</span><span class="p">,</span> <span class="n">blocks</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Get the &#39;MotorControl&#39; sources (&#39;FlightControl&#39;, &#39;motorStates&#39;)</span>
<span class="n">sources</span> <span class="o">=</span> <span class="n">motor_control_block</span><span class="o">.</span><span class="n">sources</span>

<span class="c1"># Step 5</span>
<span class="c1"># Get the &#39;MotorControl&#39; targets (&#39;motorHealthState&#39;, &#39;rotorCmd&#39;,  &#39;byname&#39; group)</span>
<span class="n">targets</span> <span class="o">=</span> <span class="n">motor_control_block</span><span class="o">.</span><span class="n">targets</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The object diagram sources of &#39;MotorControl&#39; operator are:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Operator name: </span><span class="si">{block}</span><span class="s2">, Adaptation: </span><span class="si">{src}</span><span class="s2"> =&gt; </span><span class="si">{dst}</span><span class="s2">&quot;</span>
<span class="k">for</span> <span class="n">block</span><span class="p">,</span> <span class="n">from_adapt</span><span class="p">,</span> <span class="n">to_adapt_list</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">:</span>
    <span class="n">src</span> <span class="o">=</span> <span class="n">swan_to_str</span><span class="p">(</span><span class="n">from_adapt</span><span class="p">)</span>
    <span class="n">dst</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">adapt</span><span class="p">)</span> <span class="k">for</span> <span class="n">adapt</span> <span class="ow">in</span> <span class="n">to_adapt_list</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">ExprBlock</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">expr</span><span class="p">),</span> <span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="n">dst</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Block</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">block</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">path_id</span><span class="p">),</span> <span class="n">src</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">from_adapt</span><span class="p">),</span> <span class="n">dst</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
        <span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The object diagram targets of &#39;MotorControl&#39; operator are:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">block</span><span class="p">,</span> <span class="n">from_adapt</span><span class="p">,</span> <span class="n">to_adapt</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">DefBlock</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">block</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">lhs</span><span class="p">),</span>
                <span class="n">src</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">from_adapt</span><span class="p">),</span>
                <span class="n">dst</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">to_adapt</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">block</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Bar</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">block</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">operation</span><span class="p">),</span>
                <span class="n">src</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">from_adapt</span><span class="p">),</span>
                <span class="n">dst</span><span class="o">=</span><span class="n">swan_to_str</span><span class="p">(</span><span class="n">to_adapt</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">motor_control_op_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">GlobalDeclaration</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;MotorControl&quot;</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="c1"># Get the &#39;MotorControl&#39; operator from model</span>
<span class="n">motor_control_op</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">swan</span><span class="o">.</span><span class="n">OperatorDefinition</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">find_declaration</span><span class="p">(</span><span class="n">motor_control_op_filter</span><span class="p">))</span>

<span class="c1"># Get the diagram of the &#39;MotorControl&#39; operator</span>
<span class="n">diag</span> <span class="o">=</span> <span class="n">motor_control_op</span><span class="o">.</span><span class="n">diagrams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="k">def</span><span class="w"> </span><span class="nf">subdiagrams</span><span class="p">(</span><span class="n">diag</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">Diagram</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">cast</span><span class="p">(</span><span class="n">swan</span><span class="o">.</span><span class="n">SectionObject</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">section</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">diag</span><span class="o">.</span><span class="n">objects</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">SectionObject</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">section</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">Diagram</span><span class="p">)</span>
    <span class="p">]</span>


<span class="n">control_diag</span> <span class="o">=</span> <span class="n">subdiagrams</span><span class="p">(</span><span class="n">diag</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>


<span class="k">def</span><span class="w"> </span><span class="nf">input_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">swan</span><span class="o">.</span><span class="n">DiagramObject</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">ExprBlock</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">StructProjection</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">swan_to_str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">expr</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;attitudeCmd&quot;</span>


<span class="c1"># Get the &#39;attitudeCmd&#39; fields from the diagram (expression blocks)</span>
<span class="n">attitude_cmd_fields</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="n">input_filter</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="n">control_diag</span><span class="o">.</span><span class="n">objects</span><span class="p">))</span>


<span class="k">def</span><span class="w"> </span><span class="nf">contains_output</span><span class="p">(</span><span class="n">objs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">DefBlock</span><span class="p">),</span> <span class="n">objs</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>


<span class="c1"># Get the blocks following the flows from the &#39;attitudeCmd&#39; input to the &#39;rotorCmd&#39; output</span>
<span class="n">blocks</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">contains_output</span><span class="p">(</span><span class="n">attitude_cmd_fields</span><span class="p">):</span>
    <span class="n">targets</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">attitude_cmd_fields</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">obj</span><span class="o">.</span><span class="n">targets</span><span class="p">:</span>
            <span class="n">targets</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">swan</span><span class="o">.</span><span class="n">Block</span><span class="p">):</span>
                <span class="n">blocks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">attitude_cmd_fields</span> <span class="o">=</span> <span class="n">targets</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;In the &#39;MotorControl&#39; operator, the &#39;attitudeCmd&#39; input &quot;</span>
    <span class="o">+</span> <span class="s2">&quot;passes through the following object diagrams:&quot;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">blocks</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">NamedInstance</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Operator name: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">path_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="n">swan</span><span class="o">.</span><span class="n">OperatorExpressionInstance</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Operator name: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">op_expr</span><span class="o">.</span><span class="n">operator</span><span class="o">.</span><span class="n">path_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instance name: </span><span class="si">{</span><span class="n">source</span><span class="o">.</span><span class="n">luid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-----------------------------------&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diagram-block">Diagram block</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diagram-objects">Diagram objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sources-and-targets">Sources and targets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#navigate-from-input-to-output">Navigate from Input to Output</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-example">Complete example</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
<!-- If there is no fix edit button function, use the PyData edit-this-button-->
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/examples/diagram/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

<link rel="stylesheet" href="../../_static/css/fuse-search.css">


<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../../_static/search.json";
</script>


<script src="../../_static/js/search.js"></script>
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the
  <a href="https://sphinxdocs.ansys.com/version/stable/index.html"
    >Ansys Sphinx Theme</a
  >
  1.2.4. <br />Last updated on
  <span id="ast_build_date"></span>
</p>
<script>
  var options = { day: "numeric", month: "long", year: "numeric" };
  var ast_lastModifiedDate = new Date(document.lastModified);
  var ast_build_date = lastModifiedDate.toLocaleDateString("en-US", options);
  document.getElementById("ast_build_date").innerHTML = ast_build_date;
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>